{"ast":null,"code":"var _jsxFileName = \"/Users/ford/Desktop/marketapp/ui/src/components/Brands/Items.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation, Redirect } from 'react-router-dom';\nimport { render } from 'react-dom';\nimport { InputGroup, FormControl, Form } from 'react-bootstrap';\nimport { getSortTypesArray } from '../../constants/sort';\nimport { getCompanies } from '../../business/api';\nimport CompanyAction from '../../actions/company';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Items = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const localization = useSelector(state => state.localization);\n  const company = useSelector(state => state.company);\n  const storeProductsData = useSelector(state => state.products.data);\n  useEffect(() => {\n    if (storeProductsData !== null) {\n      getCompanies().then(resp => {\n        let companies = {};\n        resp.map(c => companies[c.slug] = {\n          text: c.name,\n          checked: false,\n          display: true,\n          count: storeProductsData.filter(d => d.manufacturer === c.slug).length\n        });\n        dispatch(CompanyAction.setCompanies(companies));\n      });\n    }\n  }, [storeProductsData]);\n  useEffect(() => {\n    const bool = Object.keys(company.data).filter(key => company.data[key].checked).length === 0;\n\n    if (bool !== company.allChecked) {\n      dispatch(CompanyAction.setCompanyAllCheckedStatus(bool));\n    }\n  }, [company.data]);\n\n  const toggleItemCheckedStatus = (key, checked) => {\n    dispatch(CompanyAction.setCompanyCheckedStatus(key, checked));\n  };\n\n  const toggleAllCheckedStatus = checked => {\n    if (checked) {\n      dispatch(CompanyAction.setCompanyAllCheckedStatus(checked));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'brandItems',\n    children: Object.keys(company.data).map((key, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sortItem\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: (company.filter === null || company.filter === '') && index === 0 ? /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: localization.all,\n          checked: company.allChecked,\n          onChange: () => toggleAllCheckedStatus(!company.allChecked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 29\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'mt10',\n        children: company.data[key].display ? /*#__PURE__*/_jsxDEV(Form.Check, {\n          type: \"checkbox\",\n          label: company.data[key].text + ' (' + company.data[key].count + ')',\n          checked: company.data[key].checked,\n          onChange: () => toggleItemCheckedStatus(key, !company.data[key].checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 29\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Items, \"3Cu1a3LBWOKWbBl68KOpJdTv5W4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Items;\nexport default Items;\n\nvar _c;\n\n$RefreshReg$(_c, \"Items\");","map":{"version":3,"sources":["/Users/ford/Desktop/marketapp/ui/src/components/Brands/Items.js"],"names":["React","useEffect","useState","useSelector","useDispatch","useLocation","Redirect","render","InputGroup","FormControl","Form","getSortTypesArray","getCompanies","CompanyAction","Items","dispatch","localization","state","company","storeProductsData","products","data","then","resp","companies","map","c","slug","text","name","checked","display","count","filter","d","manufacturer","length","setCompanies","bool","Object","keys","key","allChecked","setCompanyAllCheckedStatus","toggleItemCheckedStatus","setCompanyCheckedStatus","toggleAllCheckedStatus","index","all"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useLocation, Redirect } from 'react-router-dom'\nimport { render } from 'react-dom'\nimport { InputGroup, FormControl, Form } from 'react-bootstrap'\nimport { getSortTypesArray } from '../../constants/sort'\nimport { getCompanies } from '../../business/api'\nimport CompanyAction from '../../actions/company'\n\nconst Items = () => {\n    const dispatch = useDispatch()\n    const localization = useSelector(state => state.localization)\n    const company = useSelector(state => state.company)\n    const storeProductsData = useSelector(state => state.products.data)\n\n    useEffect(() => {\n        if(storeProductsData !== null){\n            getCompanies().then((resp)=>{\n                let companies = {}\n                resp.map((c)=>(\n                    companies[c.slug] = { text: c.name, checked: false, display: true, count: storeProductsData.filter((d)=>(d.manufacturer === c.slug)).length }\n                ))\n                dispatch(CompanyAction.setCompanies(companies))\n            })\n        }\n    }, [storeProductsData])\n\n    useEffect(() => {\n        const bool = Object.keys(company.data).filter((key)=>(company.data[key].checked)).length === 0\n\n        if(bool !== company.allChecked){\n            dispatch(CompanyAction.setCompanyAllCheckedStatus(bool))\n        }\n    }, [company.data])\n\n    const toggleItemCheckedStatus = (key, checked) => {\n        dispatch(CompanyAction.setCompanyCheckedStatus(key, checked))\n    }\n\n    const toggleAllCheckedStatus = (checked) => {\n        if(checked){\n            dispatch(CompanyAction.setCompanyAllCheckedStatus(checked))\n        }\n    }\n\n    return(\n        <div className={'brandItems'}>\n            { Object.keys(company.data).map((key, index)=>(\n                <div className='sortItem' key={key}>\n                    <div>\n                        { ((company.filter === null || company.filter === '') && index === 0) ? (\n                            <Form.Check\n                                type='checkbox' \n                                label={localization.all}\n                                checked={company.allChecked}\n                                onChange={()=>toggleAllCheckedStatus(!company.allChecked)}\n                            ></Form.Check>\n                        ) : null }\n                    </div>  \n                    <div className={'mt10'}>\n                        { company.data[key].display ? (\n                            <Form.Check\n                                type='checkbox' \n                                label={company.data[key].text + ' (' + company.data[key].count + ')'} \n                                checked={company.data[key].checked}\n                                onChange={()=>toggleItemCheckedStatus(key, !company.data[key].checked)}\n                            ></Form.Check>\n                        ) : null }\n                    </div>\n                </div>\n            )) }\n        </div>\n    )\n}\n\nexport default Items"]},"metadata":{},"sourceType":"module"}